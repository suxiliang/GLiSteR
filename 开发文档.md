# 开发文档

## 项目概述

> 初赛阶段完成

### 项目背景

> 用简明扼要的文字叙述清楚该项目所涉及的（业务/技术）领域的现状及存在的问题，对于该项目要解决的问题目前已有的最新、最优解决方案。

### 项目定位

#### 应用场景

> 需要重点突出这些场景下的作者观察到的，并且准备在作品里面解决的痛点。

#### 目标人群

### 项目方案

> 用简明扼要的文字叙述清楚该项目中问题空间到解空间的映射关系，比如：“对于xxx问题，该项目通过xxx来实现xxx”。

### 项目目标

### 项目价值



## 2    开发计划
> 初赛阶段完成
### 2.1   最终呈现形式

 软件：具有完整功能的应用软件

文档：技术研究报告，项目开发文档，项目测试文档，创新性分析报告

核心技术：用户情绪识别并与音乐情绪相匹配，一定范围内用户信息共享

### 2.2   主要功能描述

产品将听歌作为用户主要活动，在传统的获取歌曲后收听歌曲的基础上开发情绪识别、音乐手账、音乐可视化、音乐助手等多项功能，涵括音乐推荐、个人记录、社交娱乐等模块。

#### 2.2.1   音乐推荐模块

产品可以根据用户情绪、用户场景、好友信息等输入进行音乐推荐。

**1.**   **情绪匹配功能**

通过用户编写的心情日记、手环记录、与音乐助手对话、当前时间和天气等数据识别用户情绪，为用户推荐相关情绪歌曲，达到舒缓负面情绪，保持良好情绪的目的。

**2.**   **场景感知功能**

使用场景感知相关的接口，通过移动设备的状态，感知用户当前的运动状态，推荐符合状态的音乐。例如在用户跑步的时候可以推荐节奏感较强的歌曲，或是直接推荐适合跑步的歌单。

**3.**   **音乐助手功能**

使用AI问答机制，可以在与用户的交流过程中，分析用户情绪，作为音乐推荐的一个输入指标。除此之外，还提供互动小游戏、软件功能快捷入口。

**4.**   **好友推荐功能**

为了增强好友之间的互动性，会对好友在听的歌曲进行部分推荐。

#### 2.2.2   个人记录模块

音乐常常会引起用户思绪，激发用户思考，为了方便用户记录，本产品为用户提供了音乐手账、音乐可视化的功能。

**1.**   **音乐手账功能**

音乐手账允许用户以文字、图片、表情、相关歌曲的形式记录心情状态。可以按照日期，不同类型对记录的内容进行划分，方便用户查看。如果用户愿意，也可以选择以匿名或是公开的方式发布到广场上，与其他用户共享。

**2.**   **音乐可视化功能**

当用户听到符合自己心情或是状态的歌曲时，可以通过音乐可视化的功能对该歌曲进行从听觉向视觉的转化，生成手机壁纸或是手表表盘，将抽象化的音频具象化，更好地记录所喜爱的歌曲。

#### 2.2.3   社交娱乐模块

随着交友方式的多样化，音乐交友的形式也逐渐进入市场，本产品同时为有社交需求的群体提供了社交和互动的平台。

**1.**   **近场共享功能**

用户通过开启近场功能，在其他人开放权限的前提下，可以与路过的人共享歌单，营造出“擦肩而过”的氛围感；也可以聆听处在同一个空间中的其他人正在享受的音乐，获得“同频共振”的互动感。

**2.**   **社区交流功能**

用户可以通过搜索id的形式添加好友，关注好友动态。对于非好友用户，可以在社区广场上公开发布自己的想法和感受，与他人交流；也允许通过匿名的方式在树洞中写下悄悄话，等待着有缘人产生共鸣。

### 2.3   运行环境

#### 2.3.1   手机端

1. Android系统

| 硬件 | 内存     | 8G以上                   |
| ---- | -------- | ------------------------ |
| 软件 | 操作系统 | 支持Android4.2及以上版本 |

2. iOS系统

支持iphone6及以上版本

#### 2.3.2   手表/手环端

具备心率检测功能的手表/手环。

 

### 2.4   验收标准

#### 2.4.1   验收内容

**1.**   **功能验收**

对需求分析中功能需求所提到的所有功能进行逐一测试，要求如下：

（1）  不存在错误等级为1的错误；

（2）  不存在错误等级为2的错误；

（3）  错误等级为3的错误数量≤5；

（4）  所有提交的错误都已得到更正；

（5）  测试用例不通过数的比例<1.5%。

**2.**   **非功能验收**

要求系统具有较强的容错性、安全性和易用性，响应时间等性能达到需求分析中要求的。

**3.**   **文档验收**

要求各文档内容完整，表述正确清晰，易于理解。文档包括：

（1）  项目开发文档；

（2）  技术研究报告；

（3）  创新性分析报告；

（4）  项目测试文档。

#### 2.4.2   错误类型定义

**1.**   **一级错误描述**

属于致命错误。如：没有实现或错误地实现重要功能；业务流程存在重大隐患；系统在操作过程中由于系统自身的原因自动退出系统或出现死机的情况；系统在操作过程中由于系统自身的原因对系统或数据造成破坏；在现有的软、硬件环境下不能实现应有的功能。

**2.**   **二级错误描述**

属于严重错误。没有实现基本功能，并且不存在替代办法；没有实现重要功能中的部分功能，并且不存在替代办法；业务流程衔接错误；用户的权限分配不合理；没有满足系统的性能要求。

**3.**   **三级错误描述**

属于一般错误。与二级错误相对应，而三级错误则存在代替方法；对误操作或错误操作没有提示，导致非法数据进入数据；用户界面差和操作时间长。

**4.**   **四级错误描述**

属于微小错误。通常为易用性方面的错误，对功能性没有影响。比如界面不友好、前后风格不一；中英文混杂；查询结果输出不直观等。

### 2.5   关键问题
> 说明可能影响项目的关键问题，如设备条件、技术焦点或其他风险因素，并说明对策。

**1.**   **情绪识别的精确度**

本项目很重要的一个推荐来源是用户的情绪识别，需要对相关的多源数据进行较好的提取与整合，确保识别的情绪不会出现较大的误差，并能与歌曲的情绪特征实现良好匹配。

**2.**   **跨平台的共享**

产品希望在多设备之间产生交流与融合，包括不同用户的手机端和同一用户的不同设备，需要设备间实现合理的算力调度与信息共享。

 

### 2.6   进度安排

| **内容**                     | **完成时间**   |
| ---------------------------- | -------------- |
| **完成功能设计**             | **2022.12.10** |
| **完成主要模型选型**         | **2023.1.16**  |
| **完成原型图设计**           | **2023.1.30**  |
| **初步完成情绪识别模块**     | **2023.3.1**   |
| **初步完成近场通信模块**     | **2023.3.8**   |
| **初步完成推荐系统模块**     | **2023.3.10**  |
| **测试并改进上方3个模块**    | **2023.3.15**  |
| **根据原型图制作大部分界面** | **2023.3.15**  |
| **完成社交娱乐模块后端搭建** | **2023.3.23**  |
| **完成个人记录模块后端搭建** | **2023.3.25**  |
| **完成前后端对接**           | **2023.3.26**  |
| **将各模型整合至App中**      | **2023.3.30**  |
| **测试App并优化**            | **2023.4.6**   |
| **性能与美观进一步优化**     | **2023.4.14**  |
| **项目完成**                 | **2023.4.15**  |

 

### 2.7   开发预算
> 此项对基于硬件和依赖于其他平台及服务的项目十分重要。

| 名称      | 预算        |
| --------- | ----------- |
| GPU服务器 | 4812元/半年 |
| 云数据库  | 1300元/半年 |
| 云服务器  | 689云/半年  |


## 可行性分析

> 初赛阶段完成

### 技术可行性分析

### 资源可行性分析

### 市场可行性分析

## 需求分析

> 初赛阶段完成

### 数据需求

> 阐述该项目所需要的各种数据。

#### 静态数据

#### 动态数据

#### 数据词典

#### 数据采集

> 阐述数据是如何获取到的。

### 功能需求

> 阐述该项目所需要的核心功能，对核心功能进行业务逻辑层面的描述

#### 功能模块

> 包含功能模块描述表，功能用例图及用例规约表。

### 性能需求

#### 时间特性

> 如响应时间、更新处理时间、数据转换与传输时间、运行时间

#### 适应性

> 在操作方式、运行环境、与其他软件的接口等发生变化时，应具有的适应能力

### 界面需求

> 要求给出4.2中涉及到的所有功能模块的界面原型示意图。界面中的每个组件元素要求给出注解。

### 接口需求

#### 硬件接口

> 若项目需要依赖于某些硬件的能力，则需要阐述清楚使用的硬件是什么以及硬件的接口和其调用方式。若不需要依赖硬件能力则填“无”。

#### 软件接口

> 软件接口定义了软件对外部服务（如：翻译服务、语音识别服务）的依赖与交互方式以及对外提供服务的方式。若无外部接口则填“无”。

### 其他需求

> 如可使用性、安全性、可维护性、可移植性

## 概要设计

> 复赛阶段完成

### 处理流程

> 包含逻辑流程图和数据流程图

### 总体结构设计

> 模块架构图及其描述

### 功能设计

> 功能模块结构图及其描述

### 数据流转设计

> 数据流转流程图及其描述

### 用户界面设计

> 复赛阶段要求提供核心功能模块的运行使用界面。决赛阶段要求给出4.2中涉及到的所有功能模块的运行使用界面。

### 数据结构设计

### 接口设计

#### 外部接口

> 阐述该软件与其他系统的调用接口。包括软件接口、硬件接口

#### 内部接口

> 阐述软件内模块之间的调用接口。包括函数接口、Restful接口等

### 错误/异常处理设计

#### 错误/异常输出信息

#### 错误/异常处理对策

> 设置后备、性能降级、恢复及再启动等

### 系统配置策略

### 系统部署方案

### 跨端应用架构设计

> 多端应用之间为满足交互协同、能力共用而做的通用协议、架构等设计

### 其他相关技术与方案

## 数据库设计

> 复赛阶段完成
> 包含数据库所有的表结构和相关的字段说明。要求提供ER图。

## 手机端侧部署设计

### 手机环境要求

## 详细设计
