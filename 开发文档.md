# 开发文档

# **项目概述**

### **项目背景**

#### **音乐的价值和意义**

音乐是一种艺术形式，指通过将不同的声音人为地组织起来，而创造出的一种具有表现力的内容。它包括形式、和声、旋律、节奏等。自古以来，音乐与人们的生活息息相关。它反映、影响着人们的情绪，拥有着巨大的能量。它能够唤起强烈的情感反应，带给我们快乐，悲伤，甚至怀念逝去的时光。它能够传递丰富的信息，即使不通过语言。

正是因为音乐的种种特性，它能够在困难时期为人们提供情感支持，在积极时刻鼓舞人们、成为令人振奋的动力。根据相关研究，音乐是对抗焦虑诱发情况(如考试)的有效工具，因为它能够分散消极思想的注意力，有助于保持足够低的压力水平，有助于人们的心理健康。

#### **当前形势**
在线音乐App市场稳步增长

根据中国互联网络信息中心数据，2020年中国在线音乐娱乐市场用户人数达到6.58亿人。近年来稳步上升，达到7亿以上用户。由会员订阅、数字专辑销售、广告服务及授权业务等为主的营收方式持续吸金，市场规模自2017年的42亿元，达到2021年底的177亿。可以说，在线音乐App成为大众听音乐的主要选择。

#### **现有音乐App难以满足用户需求。**

目前，市面上的音乐App已经十分成熟，也都拥有着庞大的用户基数、较为完善的功能。但在某些方面，仍无法满足用户需求。

**音乐推荐系统不够“机灵”，缺少对用户情绪的关注。**现有的市面上的音乐软件，主要使用“标签”作为推荐歌曲的依据。根据标签，系统将为用户推送相关的歌手、相同流派的歌曲等歌曲要素，从而能够让用户“听我想听”，满足用户品味。而这样的做法存在着一定的局限性，对用户来说，听歌的动机与情绪和状态相关，具有较强的不确定性。例如，在情绪高涨的时候，用户会想要听一些激昂、充满力量的乐曲；在情绪失落时，用户会想要听一些安静、舒缓的乐曲。而在使用现有主流音乐App时，由于缺乏对于当前用户情绪和状态的关注，在推送时会出现用户收到的推送不符合当前情绪预期的情况。

**以“歌单”为主要形式的分类方式，存在一定局限性。**一方面，歌单仅仅是一组音乐的集合，它难以记录用户对于歌曲的感受。因此，软件并不能了解用户对于歌曲的具体感受，更不能在特定的环境下推送相应感受的歌曲，达到“知人冷暖”的效果。再者，歌单的分类方式极为繁琐，一个特定的风格、听歌场景就需要建立一张歌单。为了细化听歌场景，用户就需要建立许多的歌单。而在歌单间切换也十分繁琐。

**社交功能较为薄弱。**现有的音乐软件以评论区作为核心的社交功能，而评论中又不乏广告推销员和无效刷屏，社交体验感差。用户真正需要的是在音乐上产生共鸣的朋友。而品味这个包含复杂内容的名词，很难在评论区的三言两语间体现其全貌，需要依凭长时间的听歌习惯才能显现。

**我们的解决方案**

“XX”项目以“情感+社交”为宗旨，基于端云结合的理念和OPPO AI框架的算法支持，关注用户对歌曲的个人感受以及在听歌时的情感状态，让音乐抚慰灵魂。并关注社交，希望打造品味相同的灵魂连接的通道。

针对目前主流音乐软件的痛点，本项目采用“音乐手账”的形式，打造用户收藏音乐、感受音乐的媒介。让音乐不再是冷冰冰的歌单，而是夹杂着个人情感的手账珍藏。另外，采用XXX的技术，提取歌曲主要情绪状态，并结合手机和智能设备相关数据、情景识别等技术，识别用户状态，以实现基于用户当前情绪的歌曲推荐系统，满足用户在不同心理状态下的听歌需求。用户的心理状态信息还可帮助我们关怀用户心理健康。再者，增加歌曲的分类方式，除“歌手”“专辑”“歌单”等分类依据外，增加“标签”“状态”等，实现更细致的歌曲分类，而这也能帮助我们实现更精准的歌曲推送。此外，利用近场通讯等技术，帮助用户找到志同道合的听友。这样一系列做法，实现一个富有人文关怀气息的音乐App。

### **项目定位**

#### 应用场景
> 需要重点突出这些场景下的作者观察到的，并且准备在作品里面解决的痛点。

**场景一：随时随地听心仪的音乐。**

随着网络音乐的普及，音乐服务触手可及。大众养成了网络听歌的习惯，越来越多的人喜欢使用手机听取音乐。这一动作可以是在书房里、在路上、在地铁上，在清晨、在午后、在睡前，在开心时、在低落时。人们随时随地都可以掏出手机，享受属于自己的音乐天地。

对于这个应用场景，主流的音乐app都实现了“随时随地”，而在“心仪”一词上，并不是一直能够满足用户的需求。**1.**例如，用户A在睡前打开音乐app，选定“我喜欢”歌单，想要舒缓一下心情、进入睡眠状态。在这个过程中，传统音乐软件只是按照一定的顺序播放这张歌单，并不能基于用户当前的状态筛选对应的歌曲、进而推送给用户。因此会有可能推送一些过于欢快的歌曲，让用户A觉得聒噪，甚至退出音乐软件。在此场景中而本项目的做法是：结合时间地点等基本数据、用户是否跳过歌曲的监测数据、“音乐手账”能够获得的用户的文字数据、以及智能硬件设备获取的用户状态数据（例如手表的心率、运动状态等数据）等，对用户所听歌单内歌曲再做一定的筛选。例如检测到用户心率过快、压力过大，则倾向于给用户推送舒缓的音乐，达到放松的效果。监测到用户正在跑步，则更多地推送节奏感强的音乐。这样，音乐的推送更加灵活且具有针对性。**2.**此外，用户有时不只想听一张歌单中的歌，因此我们通过混合播放的方式，用户可选取多张歌单，系统将通过算法，结合多方面数据，合成一张总的播放列表。这样用户就不必在App中忙于切换歌单了。**3.**增加歌曲分类依据，在传统软件中，包含“歌手”“专辑”“歌单”等分类依据。我们允许用户为歌曲增加“标签”“状态”的描述。“标签”是对于歌曲基本信息的描述，如“国语”“爱豆”“摇滚”等等；而“状态”则是用户对于一首歌的主观感受，它可以是动作、情绪和场景。例如“阅读”代表用户认为这些歌曲给人的感觉是他在阅读；而“安静”代表用户认为这些歌给人的感觉是安静；“海边”代表用户听到这首歌时仿佛看到了广袤的大海。通过歌手、专辑、歌单、标签、状态的定义，用户更容易找出自己想听的歌。推荐系统的推荐依据也更加详细。

例如，用户B在某天十分失落，带了一本书到咖啡馆，想要在午后听一些粤语的歌释放一下。那么她便可以选定“咖啡馆”+“阅读”+“down”的状态，以及“粤语”的tag，还可以选择“陈奕迅”这个歌手，点击“混合播放”，系统则会依据算法选定相应的歌生成一张播放列表开始播放。这个方式的灵活性很强，在其他场景下可以将不同的元素混搭，也可以预设几组常用的元素组合，例如“打工+写代码”，“跑步+午后”，“考研+静谧”等等。而这些播放列表无疑是更加符合用户需求的和满足特定场景的。

**场景二：达成心理状态记录和关怀**

音乐和情绪是十分挂钩的。音乐能体现创作者的情绪，也能影响听众的情绪。而用户选择的歌曲也能在一定程度上反应用户当时的心理状态。根据用户的听歌规律，再结合听歌时的其他相关数据，本项目可以挖掘出用户心理状态的一些变化。而主流音乐App很少关注音乐和用户情绪的关联关系，仅仅是记录如“某年某日某歌”这种较为低层次的统计信息。本项目可以对用户听歌的习惯及状态的变化进行记录，并随时生成报表，为用户展示一段时间内的心理健康状态，有助于用户及时意识心理健康问题，进而及时调整。此外，App界面以及手表表盘、周围的氛围灯等家居产品等也会由音乐生成不同的可视化效果，让音乐由可听变得可视，增强用户对音乐的感知，具有更好的互动感。程序内置的虚拟形象在监测出用户的情绪变化时，能够与其进行沟通，进一步缓解用户的不良状态。这样的沟通感无疑是当下许多具有心理问题的用户所需要的。

**场景三：音乐鉴赏和收藏**

在读书时，人们喜欢摘抄佳句、标注出处，撰写书评。而音乐与读书一样，都属于文艺作品，本身就具备被赏析和收藏的品质。而传统音乐App的“收藏夹”则更像一个带了新型按钮的大号歌单。它仅仅能储存，却不能实现诸如“批注”“赏析”这样高级的功能。

读书笔记（或手账）是书写的人阅读的佳句和情感的集合。如果只有佳句，则文字会变得冷冰冰。对于音乐App用户来说，用户缺乏一个可以收藏音乐的“音乐手账”，它存放着用户听音乐时的记忆片段，是音乐的情感的集合体。当用户将音乐夹杂着听时的文字、语音存入手账，就仿佛将情感放入了一颗时间胶囊。当用户打开它，播放的音乐夹杂着旧时的感受一并涌入用户的心扉。它区别于普通手账，因为它“可听”；它也不同于普通收藏夹，因为它“可读”。想象一下这个场景：用户A很喜欢和男朋友在散步时一起听歌，在结束一天的散步后，回到家中，就将今日听到的歌、附上一些碎碎念写入手账。当她再次打开这本手账，不仅仅能够听到这首歌，还能回想起那条幽静的小径、那天和男友月下的牵手。而这首歌也因为这些变得更加饱满、丰富，听歌这个动作也不再是单单的听，多了感受、表达和思念。

**场景四：音乐社交和沟通**

毫无疑问，人们更喜欢与志趣相投的人聊天。而音乐对于交友也是个很不错的载体。而主流音乐App的交友功能往往仅限于评论区等地了，而在这之中不乏有机器人、水军等。在我们的设计中，App通过分析用户听歌习惯和品味，可以给用户匹配网络上品味相同的陌生人。此外，通过近场通讯等手段，可以在现实中找到正在听一首歌的陌生人。而“听友雷达”让每一个与自己听着相同音乐的人，都会以星点的样式呈现在地图上，让用户看到这个世界上有多少与自己相同的星星。这样的社交设计，可以帮助用户找到更多相似的人和朋友。

### **目标人群**

（1）想要单纯听音乐的用户，为其提供完整优质的音乐服务和科学的音乐分类、推送等。

（2）想要记录自己听歌日志、收藏音乐的用户。为其提供高质量的音乐手账服务，供其记录音乐和生活。

（3）想要通过音乐结交听友的用户，为其提供完整的音乐社区和精准的听友匹配。

### **项目方案**
> 用简明扼要的文字叙述清楚该项目中问题空间到解空间的映射关系，比如：“对于xxx问题，该项目通过xxx来实现xxx”。

**对于音乐资源库问题，**本项目依托网易云音乐开源项目进行开发，可以享用用户在网易云音乐上享用的基本音乐权益。

**对于音乐可视化问题，**本项目使用Stable Diffusion提供的基础网络Latent Diffusion Models，将音乐特征生成相对应的图片。

**对于音乐推送问题，**本项目使用Dropout混合推荐系统，在一定程度上解决系统的冷启动和惊喜度的问题。

**对于情绪提取问题，**本项目通过对多模态的信息进行提取融合，实现用户情绪的识别。

**对于多设备调用问题，**本项目混合多种方式来实现需要的功能，并自行实现一部分在HTTP上的功能调用。

### **项目目标**

   （1）“XX”项目以“情感+社交”为宗旨，基于端云结合的理念和OPPO AI框架的算法支持，关注用户对歌曲的个人感受以及在听歌时的情感状态，实现更精准的音乐分类和推送，使用户心仪的音乐“触手可及”。

（2）给予用户一个鉴赏、收藏音乐的工具，利用可视化、音乐手账等手段，让音乐不仅仅可听，还可读、可感受，增强人与音乐的交互感，让音乐抚慰灵魂。

（3）关注社交，希望打造品味相同的灵魂连接的通道。

（4）关注用户情感健康状态，希望能够让音乐辅助用户心理健康关怀。

### **项目价值**

   “XX”让用户心仪的音乐更加“触手可及”。用户不用再从不同的歌单间翻来覆去，苦苦搜寻。借助更加细致、自定义程度高的歌曲分类方法，用户可以更精准便捷地找到自己心仪的音乐。借助更科学有效的推送方式，音乐推送不仅仅限于流派等，变得更加精准。这是一款“更懂用户”的音乐软件。

“XX”通过音乐手账的组织方式，成为用户收藏、记录歌曲的渠道，解决了用户无处记录听歌感受的问题。用户的歌曲不单单可听，也变得可读。音乐和情感更加紧密的结合在一起，而不再是一个个冷酷的播放列表。

“XX”解决了用户难以寻找听友的问题。不同品味的用户可以被推送到一起，通过听友雷达，找到天南海北的同好，十分便捷。

“XX”提高了用户与音乐的交互感。音乐可听、可视、可读，变得更加立体和饱满；音乐系统会机灵地监测用户状态作出不同推荐。让音乐也是“有人情味的”。


## 2    开发计划
### 2.1   最终呈现形式

 软件：具有完整功能的应用软件

文档：技术研究报告，项目开发文档，项目测试文档，创新性分析报告

核心技术：用户情绪识别并与音乐情绪相匹配，一定范围内用户信息共享

### 2.2   主要功能描述

产品将听歌作为用户主要活动，在传统的获取歌曲后收听歌曲的基础上开发情绪识别、音乐手账、音乐可视化、音乐助手等多项功能，涵括音乐推荐、个人记录、社交娱乐等模块。

#### 2.2.1   音乐推荐模块

产品可以根据用户情绪、用户场景、好友信息等输入进行音乐推荐。

**1.**   **情绪匹配功能**

通过用户编写的心情日记、手环记录、与音乐助手对话、当前时间和天气等数据识别用户情绪，为用户推荐相关情绪歌曲，达到舒缓负面情绪，保持良好情绪的目的。

**2.**   **场景感知功能**

使用场景感知相关的接口，通过移动设备的状态，感知用户当前的运动状态，推荐符合状态的音乐。例如在用户跑步的时候可以推荐节奏感较强的歌曲，或是直接推荐适合跑步的歌单。

**3.**   **音乐助手功能**

使用AI问答机制，可以在与用户的交流过程中，分析用户情绪，作为音乐推荐的一个输入指标。除此之外，还提供互动小游戏、软件功能快捷入口。

**4.**   **好友推荐功能**

为了增强好友之间的互动性，会对好友在听的歌曲进行部分推荐。

#### 2.2.2   个人记录模块

音乐常常会引起用户思绪，激发用户思考，为了方便用户记录，本产品为用户提供了音乐手账、音乐可视化的功能。

**1.**   **音乐手账功能**

音乐手账允许用户以文字、图片、表情、相关歌曲的形式记录心情状态。可以按照日期，不同类型对记录的内容进行划分，方便用户查看。如果用户愿意，也可以选择以匿名或是公开的方式发布到广场上，与其他用户共享。

**2.**   **音乐可视化功能**

当用户听到符合自己心情或是状态的歌曲时，可以通过音乐可视化的功能对该歌曲进行从听觉向视觉的转化，生成手机壁纸或是手表表盘，将抽象化的音频具象化，更好地记录所喜爱的歌曲。

**3.**   **自定义标签功能**

用户可以使用自定义的标签对歌曲进行分类，既方便用户在合适的场景下可以选择合适的音乐，也允许不同的音乐对于不同用户有着截然不同的听觉体验。

#### 2.2.3   社交娱乐模块

随着交友方式的多样化，音乐交友的形式也逐渐进入市场，本产品同时为有社交需求的群体提供了社交和互动的平台。

**1.**   **近场共享功能**

用户通过开启近场功能，在其他人开放权限的前提下，可以与路过的人共享歌单，营造出“擦肩而过”的氛围感；也可以聆听处在同一个空间中的其他人正在享受的音乐，获得“同频共振”的互动感。

**2.**   **社区交流功能**

用户可以通过搜索id的形式添加好友，关注好友动态。对于非好友用户，可以在社区广场上公开发布自己的想法和感受，与他人交流；也允许通过匿名的方式在树洞中写下悄悄话，等待着有缘人产生共鸣。

### 2.3   运行环境

#### 2.3.1   手机端

1. Android系统

| 硬件 | 内存     | 8G以上                   |
| ---- | -------- | ------------------------ |
| 软件 | 操作系统 | 支持Android4.2及以上版本 |

2. iOS系统

支持iphone6及以上版本

#### 2.3.2   手表/手环端

具备心率检测功能的手表/手环。

### 2.4   验收标准

#### 2.4.1   验收内容

**1.**   **功能验收**

对需求分析中功能需求所提到的所有功能进行逐一测试，要求如下：

（1）  不存在错误等级为1的错误；

（2）  不存在错误等级为2的错误；

（3）  错误等级为3的错误数量≤5；

（4）  所有提交的错误都已得到更正；

（5）  测试用例不通过数的比例<1.5%。

**2.**   **非功能验收**

要求系统具有较强的容错性、安全性和易用性，响应时间等性能达到需求分析中要求的。

**3.**   **文档验收**

要求各文档内容完整，表述正确清晰，易于理解。文档包括：

（1）  项目开发文档；

（2）  技术研究报告；

（3）  创新性分析报告；

（4）  项目测试文档。

#### 2.4.2   错误类型定义

**1.**   **一级错误描述**

属于致命错误。如：没有实现或错误地实现重要功能；业务流程存在重大隐患；系统在操作过程中由于系统自身的原因自动退出系统或出现死机的情况；系统在操作过程中由于系统自身的原因对系统或数据造成破坏；在现有的软、硬件环境下不能实现应有的功能。

**2.**   **二级错误描述**

属于严重错误。没有实现基本功能，并且不存在替代办法；没有实现重要功能中的部分功能，并且不存在替代办法；业务流程衔接错误；用户的权限分配不合理；没有满足系统的性能要求。

**3.**   **三级错误描述**

属于一般错误。与二级错误相对应，而三级错误则存在代替方法；对误操作或错误操作没有提示，导致非法数据进入数据；用户界面差和操作时间长。

**4.**   **四级错误描述**

属于微小错误。通常为易用性方面的错误，对功能性没有影响。比如界面不友好、前后风格不一；中英文混杂；查询结果输出不直观等。

### 2.5   关键问题
> 说明可能影响项目的关键问题，如设备条件、技术焦点或其他风险因素，并说明对策。

**1.**   **情绪识别的精确度**

本项目很重要的一个推荐来源是用户的情绪识别，需要对相关的多源数据进行较好的提取与整合，确保识别的情绪不会出现较大的误差，并能与歌曲的情绪特征实现良好匹配。

**2.**   **跨平台的共享**

产品希望在多设备之间产生交流与融合，包括不同用户的手机端和同一用户的不同设备，需要设备间实现合理的算力调度与信息共享。

 

### 2.6   进度安排

| **内容**                     | **完成时间**   |
| ---------------------------- | -------------- |
| **完成功能设计**             | **2022.12.10** |
| **完成主要模型选型**         | **2023.1.16**  |
| **完成原型图设计**           | **2023.1.30**  |
| **初步完成情绪识别模块**     | **2023.3.1**   |
| **初步完成近场通信模块**     | **2023.3.8**   |
| **初步完成推荐系统模块**     | **2023.3.10**  |
| **测试并改进上方3个模块**    | **2023.3.15**  |
| **根据原型图制作大部分界面** | **2023.3.15**  |
| **完成社交娱乐模块后端搭建** | **2023.3.23**  |
| **完成个人记录模块后端搭建** | **2023.3.25**  |
| **完成前后端对接**           | **2023.3.26**  |
| **将各模型整合至App中**      | **2023.3.30**  |
| **测试App并优化**            | **2023.4.6**   |
| **性能与美观进一步优化**     | **2023.4.14**  |
| **项目完成**                 | **2023.4.15**  |

 

### 2.7   开发预算
> 此项对基于硬件和依赖于其他平台及服务的项目十分重要。

| 名称      | 预算        |
| --------- | ----------- |
| GPU服务器 | 4812元/半年 |
| 云数据库  | 1300元/半年 |
| 云服务器  | 689云/半年  |


## 可行性分析

> 初赛阶段完成

### 技术可行性分析
1. 多模态下用户情绪的分析与特征提取

本项目通过采集多种模态的用户情绪并进行分析以使用，这一过程中使用多种方式进行特征的提取，例如OPPO穿戴设备API和MIB模型等深度学习方法。借助深度学习，我们可以从更丰富的角度提取用户的情绪特征，并使用关系型或非关系型数据库进行存储。

与传统研究方向相比，深度学习可以从文本、图片和语音等模态中深入学习提取特征的方式，这对于多模态下的处理极其有效。与此同时，许多多模态模型使用Transformer模块，通过注意力机制改进特征的提取分析。

在使用过程中，数据可以以规格或半规格化的方式存放在数据库中。通过机器学习的聚类、支持向量机等算法可以在积累的数据上探索非常多的价值，用于后续的用户交互和任务产出。

2. 跨平台设备调用

借助OPPO提供的API和后端服务器的任务分发，可以实现任务的分配流转以及算力的调用。移动设备之间的通信方式非常丰富，例如蓝牙、WiFi等等，在选择方式时要考虑设备距离、速度需求和安全性等问题。

在综合考虑后，结合具体需求和场景来进行设计和实现，我们选择混合多种方式来实现需要的功能，并自行实现一部分在HTTP上的功能调用。并在必要的环节使用一定的决策算法，实现计算任务的合理分配、较低的延迟和较少的传输浪费，以此提高应用性能和体验感。

3. AIGC

近几年AIGC得到了长足的发展，逐渐走入大众视野。其中非常引人注目的就包括图像生成和音乐生成。

在我们的项目中使用了Stable Diffusion的基础网络Latent Diffusion Models这一图文生成模型。与传统方法和其他深度学习方法比起来，Diffusion model可以取得更好的图片生成效果，并且Latent Diffusion Model 提出一种在潜在表示空间（latent space）上进行扩散过程的方法，从而能够大大减少计算复杂度，提高计算速度和资源占用，同时也能达到十分不错的图片生成效果。

除此以外，MSRA 的Muzic等项目在音乐生成领域也都取得很惊艳且成熟的成果。

4. 推荐系统

目前推荐系统已经在各大网络平台得到了广泛的应用，为用户带来了较好的使用体验。无论是协同过滤还是基于内容的推荐系统都已经有了较为坚实的技术基础。

本项目将基于用户和歌曲的情绪特征实现推荐功能，选择了DropoutNet模型对基于内容的推荐系统和协同过滤系统进行融合，有利于解决冷启动问题，并在一定程度上缓解了基于内容推荐系统的惊喜度不足的缺点。

### 资源可行性分析
#### 软硬件资源
1. 团队已安装Android Studio
2. 团队拥有Mac Windows 不同种类的笔记本设备可以实现多平台测试，拥有Apple watch 可以用于进行身体数据等的测量。
3. 团队现拥有云服务器和物理服务器，可以提供外网IP访问服务，学校提供高性能服务器一台供使用。

#### 人力资源
本团队两名成来自软件工程专业，两名成员来自数据科学与大数据技术专业，具有良好的软件项目开发水平和经验，在相关算法领域有所涉及。所有成员都具有很强的团队协作意识和学习能力。

本团队的指导老师技术能力全面，可以为我们提供各方面的指导和支持。

#### 其他资源
因特网和图书馆计算机资源丰富，各种网站的论文资源也方便查询，安卓开发和深度学习也是我们学习研究的方向、有前辈可以咨询和沟通。

### 市场可行性分析

#### 市场需求分析

随着互联网的广泛应用，音乐也从早年的黑胶唱片等逐渐变成了一个个的数据文件，人们可以通过互联网、通过App来听各种音乐，只要是收录过的，不管是多少年前，只要是还存在，人们就能够听到和欣赏到音乐，音乐不再有以往那些唱片，唱片机的条件和空间限制，而是能够随时随地听到各种音乐。而各大厂商不只是在音乐版权，源文件下功夫，也搞了各种大数据推荐，社交，直播，App的功能确实是越来越多。然而，人们大多数只能够通过排行榜，风格，歌手等来进行搜索相应的歌曲，或者听着来自应用大数据推荐的自己喜欢风格或歌手的音乐，对用户来说，一首歌曲一般是主观获取的。但是很多时候，人在不同情况，不同情境下的情绪等不同，所需要的音乐也不尽相同，如果一款App能够照顾到使用者的情绪或者是所处的情景来进行推荐音乐，在伤心时给予安慰，在高兴时与其同乐，在受挫时给予鼓励；当用户在图书馆、自习室时候自动播放放松舒缓的学习轻音乐，在跑步时自动推荐一些节奏感强的音乐，又或者在两个陌生人邂逅时，能够彼此获取到对方正在听的歌曲，这将会更好的发挥音乐的作用，更好的调节人们的情绪、保证其状态、进行情绪上的沟通。同时App也能通过不同方式获取用户的情绪给予记录并生成相应的日历，最后给用户以展示。那这款App势必会更有利于用户认识到相同情绪的人、感受到来自音乐的力量。

#### 竞品分析

<table>
	<tr>
	    <th rowspan="3">产品名称</th>
	    <th rowspan="3">产品定位</th>
	    <th colspan="11">功能模块</th>
	    <th colspan="2">优缺点分析</th> 
	</tr >
    <tr >
	    <td rowspan="2">音乐播放</td>
	    <td rowspan="2">曲库</td>
	    <td rowspan="2">音乐手账</td>
        <td colspan="4">音乐推荐</td>
	    <td rowspan="2">歌单</td>
        <td rowspan="2">社交</td>
	    <td rowspan="2">音乐助手</td>
        <td rowspan="2">音乐可视化</td>
        <td rowspan="2">优点</td>
        <td rowspan="2">缺点</td>
	</tr>
    <tr >
	    <td>大数据推荐</td>
	    <td>近场（氛围推荐）</td>
	    <td>情绪推荐</td>
        <td>邂逅推荐</td>
	</tr>
	<tr >
	    <td>
            qq音乐
        	<img src="image/qq音乐.png">
        </td>
	    <td>优质音乐资源服务平台与音乐播放器</td>
        <td>√</td>
        <td>√</td>
	    <td>×</td>
        <td>√</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>√</td>
        <td>√</td>
        <td>x</td>
        <td>x</td>
        <td>
            1.音乐版权多，
            2.用户基数大，
            3.功能更多更完善
            4.音质更好
        </td>
        <td>
            1.功能太赘余，分类没做好，
            2.ui界面太繁琐，
            3.无法根据用户的情绪，所处氛围等进行推荐，人性关怀不够。
        </td>
    </tr>
    <tr>
        <td>
            网易云音乐
            <img src="image/网易云音乐.png">
        </td>
        <td>移动音乐社区</td>
        <td>√</td>
        <td>√</td>
	    <td>×</td>
        <td>√</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>√</td>
        <td>√</td>
        <td>x</td>
        <td>x</td>
        <td>
            1.社交功能更完善，有音乐社区基础
            2.一起听功能比较好
        </td>
        <td>
            1.无法根据用户的情绪，所处氛围等进行推荐，人性关怀不够。       
            2.音乐版权劣势
        </td>
    </tr>
    <tr>
        <td>
            酷狗音乐概念版
            <img src="image/酷狗音乐概念版.png">
        </td>
        <td>打造一款基于音乐分享的交流社区</td>
        <td>√</td>
        <td>√</td>
	    <td>×</td>
        <td>√</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>√</td>
        <td>√</td>
        <td>x</td>
        <td>x</td>
        <td>
            1.播放页面更加清爽
            2.频道中甚至加了自习室等功能
        </td>
        <td>
            1.无法根据用户的情绪，所处氛围等进行推荐，人性关怀不够。       
            2.评论区比较拉跨，人少，内容质量不高。
        </td>
    </tr>
    <tr>       
        <td>
            波点音乐
            <img src="image/波点音乐.png">
        </td>
        <td>极简，个性化，深度互动，社交</td>
        <td>√</td>
        <td>√</td>
	    <td>×</td>
        <td>√</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>√</td>
        <td>√</td>
        <td>x</td>
        <td>x</td>
        <td>
            1.播放页面更加清爽
            2.留言墙的评论样式更加好看。
            2.社交上波波宇宙，来寻找可能志同道合的陌生人。
        </td>
        <td>
            1.无法根据用户的情绪，所处氛围等进行推荐，人性关怀不够。       
            2.功能相较于其他软件稍微少一点。
        </td>
    </tr>
	<tr>
	    <th rowspan="3">产品名称</th>
	    <th rowspan="3">产品定位</th>
	    <th colspan="11">功能模块</th>
	    <th colspan="2">优缺点分析</th> 
	</tr >
    <tr >
	    <td rowspan="2">音乐播放</td>
	    <td rowspan="2">曲库</td>
	    <td rowspan="2">音乐手账</td>
        <td colspan="4">音乐推荐</td>
	    <td rowspan="2">歌单</td>
        <td rowspan="2">社交</td>
	    <td rowspan="2">音乐助手</td>
        <td rowspan="2">音乐可视化</td>
        <td rowspan="2">优点</td>
        <td rowspan="2">缺点</td>
	</tr>
    <tr >
	    <td>大数据推荐</td>
	    <td>近场（氛围推荐）</td>
	    <td>情绪推荐</td>
        <td>邂逅推荐</td>
	</tr>
	<tr >
	    <td>
            Moodistory
        	<img src="image/Moodistory.png">
        </td>
	    <td>轻松上手的情绪追踪器</td>
        <td>×</td>
        <td>×</td>
	    <td>√</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>x</td>
        <td>x</td>
        <td>
            1.能够通过简单的文字和表情来记录每天的情绪
            2.通过日历，分布图等形式来呈现，并且能够生成pdf等导出、分享。
            3.操作简单、操作简捷，页面简洁。
        </td>
        <td>
            只对情绪进行记录和统计分析，保证了情绪的私密性，但不能对用户情绪进行安慰等行为，在用户的人文关怀上不够到位。
        </td>
    </tr>
    <tr >
	    <td>
            Moodio
        	<img src="image/Moodio.png">
        </td>
	    <td>简单记录心情，对数据统计分析</td>
        <td>×</td>
        <td>×</td>
	    <td>√</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>x</td>
        <td>x</td>
       <td>
            1.能够通过简单的表情符号来记录每天的情绪
            2.通过日历，分布图等形式来呈现
            3.操作简单、操作简捷，页面简洁。
        </td>
        <td>
            只对情绪进行记录和统计分析，保证了情绪的私密性，但不能对用户情绪进行安慰等行为，在用户的人文关怀上不够到位。
        </td>
    </tr>
</table>


#### 自我分析

采用---算法，通过多设备多输入解决了对用户情绪的收集，从而能够通过当前的情绪来进行推荐合适的音乐来处理情绪。

采用---算法，实现了通过情绪，歌词等来生成可视化壁纸。

采用---算法，实现了能够问答的AI音乐助手，可以通过问答来分析用户的情绪，还添加了部分功能的快捷入口。

采用---算法，能够通过移动设备（主要是手机和手表）所处的状态等来判断用户的状态和所处氛围，然后进行场景氛围推荐。

采用---算法，能够实现近场通讯，“同频匹配”，可以与路过的人匹配，也可以和共处一个空间的人匹配。

实现了情绪社区和情绪日记，能够匿名或实名在社区中寻找到和自己相似的人，也能够通过在树洞留下悄悄话等待着有缘人的到来。

<table>
	<tr>
	    <th rowspan="3">产品名称</th>
	    <th rowspan="3">产品定位</th>
	    <th colspan="11">功能模块</th>
	    <th colspan="2">优缺点分析</th> 
	</tr >
    <tr >
	    <td rowspan="2">音乐播放</td>
	    <td rowspan="2">曲库</td>
	    <td rowspan="2">音乐手账</td>
        <td colspan="4">音乐推荐</td>
	    <td rowspan="2">歌单</td>
        <td rowspan="2">社交</td>
	    <td rowspan="2">音乐助手</td>
        <td rowspan="2">音乐可视化</td>
        <td rowspan="2">优点</td>
        <td rowspan="2">缺点</td>
	</tr>
    <tr >
	    <td>大数据推荐</td>
	    <td>近场（氛围推荐）</td>
	    <td>情绪推荐</td>
        <td>邂逅推荐</td>
	</tr>
	<tr >
	    <td>
            情音（bushi）
        </td>
	    <td>一款主打用户情绪的人性化音乐app</td>
        <td>×</td>
        <td>×</td>
	    <td>√</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>×</td>
        <td>x</td>
        <td>x</td>
        <td>
            1.可以图片文字表情歌曲等形式记录心情状态，以日历等形式进行展示
            2.可以对音乐的情绪标签和歌词等进行多设备可视化展示。
            3.能够通过多种输入（心情日记，手环记录，音乐助手等）来分析用户的情绪，从而进行情绪推荐
            4.能够通过场景感知来观测用户状态从而进行推荐。
            5.能够实现近场通讯，同频匹配，在用户许可的情况下，允许邂逅的人们能够听到他人在听的歌曲。
            6.添加了音乐助手，能够提供功能的快捷入口；能够与用户进行问答，从而获取用户的情绪信息等、
        </td>
        <td>
            只对情绪进行记录和统计分析，保证了情绪的私密性，但不能对用户情绪进行安慰等行为，在用户的人文关怀上不够到位。
        </td>
    </tr>
</table>



## 需求分析

> 初赛阶段完成

### 数据需求

> 阐述该项目所需要的各种数据。

#### 静态数据

表4.1 常量信息表

| ***\*对象\****    | ***\*注解\**** | 来源   | ***\*类型\**** |
| ----------------- | -------------- | ------ | -------------- |
| Song***\*_id\**** | 歌曲id         | Song   | Int            |
| Song_name         | 歌曲名         | Song   | Varchar        |
| Song_singer       | 歌手名         | Song   | Int            |
| Song_filepath     | 文件路径       | Song   | Varchar        |
| Song_album        | 歌曲对应专辑   | Song   | Int            |
| Song_lyc          | 歌曲对应专辑   | Song   | Varchar        |
| Singer_id         | 歌手id         | Singer | Int            |
| Singer_name       | 歌手名         | Singer | Varchar        |
| Singer_details    | 歌手简介       | Singer | Varchar        |
| Singer_photo      | 歌手图片       | Singer | Varchar        |
| Singer_type       | 歌手类型       | Singer | Varchar        |
| Album_id          | 专辑id         | Album  | Int            |
| Album_name        | 专辑名         | Album  | Varchar        |
| Album_singer      | 专辑歌手       | Album  | Int            |
| Album_details     | 专辑简介       | Album  | Varchar        |
| Album_time        | 专辑发布日期   | Album  | Datetime       |
| Album_img         | 专辑图片       | Album  | Varchar        |
| List_id           | 列表id         | List   | Int            |
| List_title        | 列表标题       | List   | Varchar        |
| List_img          | 列表图片       | List   | Varchar        |
| List_userid       | 列表所有者     | List   | Int            |
| List_time         | 列表创建时间   | List   | Datetime       |
| List_details      | 列表细节       | List   | Varchar        |
| List_type         | 列表类型       | List   | Varchar        |
| user_id           | 用户id         | User   | Int            |
| user_name         | 用户名         | User   | Varchar        |
| user_account      | 用户账户       | User   | Varchar        |
| pswd              | 密码           | User   | Varchar        |
| user_phone        | 用户手机       | User   | Varchar        |
| user_area         | 用户区域       | User   | Varchar        |
| user_details      | 用户简介       | User   | Varchar        |
| user_gender       | 用户性别       | User   | Varchar        |
| user_birth        | 用户生日       | User   | Date           |
| user_photo        | 用户照片       | User   | Varchar        |
| note_id           | 手账id         | Note   | Int            |
| note_name         | 手账名         | Note   | Varchar        |
| note_img          | 手账图片       | Note   | Varchar        |
| note_time         | 手账创建时间   | Note   | Datetime       |
| note_details      | 手账简介       | Note   | Varchar        |
| note_type         | 手账类型       | Note   | Varchar        |
| note_userid       | 手账所属人     | Note   | Int            |
| Moment_id         | 动态id         | Moment | Int            |
| Moment_details    | 动态内容       | Moment | Varchar        |
| Moment_userid     | 动态发布人     | Moment | Int            |
| Moment_time       | 动态发布时间   | Moment | Datetime       |

#### 动态数据

表4.2变量信息表

| ***\*数据类别\**** | ***\*名称\****   | ***\*定义\**** | ***\*类型\**** |
| ------------------ | ---------------- | -------------- | -------------- |
| ***\*输入\****     | 歌曲集合         |                | 非关系型的集合数据 |
|                    | 时间             |                |                |
|                    | 地点             |                |                |
|                    | 用户行为       |                |                |
|                    | 对音乐手账中用户数据 |                |                |
|                    | …… |                |                |
| ***\*输出\****     | 用户当前情绪     |                |                |
|                    |                  |                |                |
|                    |                  |                |                |
|                    |                  |                |                |

#### 数据词典

表4.3歌曲表

| ***\*字段\****    | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| ----------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| Song***\*_id\**** | 歌曲id         | Int            | 11             | T              | 主键         |
| Song_name         | 歌曲名         | Varchar        | 255            | T              |              |
| Song_singer       | 歌手名         | Int            | 11             | F              |              |
| Song_filepath     | 文件路径       | Varchar        | 100            | F              |              |
| Song_album        | 歌曲对应专辑   | Int            | 11             | F              |              |
| Song_lyc          | 歌曲对应专辑   | Varchar        | 3000           | F              |              |

 

表4.4歌手表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| Singer_id      | 歌手id         | Int            | 11             | T              | 主键         |
| Singer_name    | 歌手名         | Varchar        | 20             | F              |              |
| Singer_details | 歌手简介       | Varchar        | 255            | F              |              |
| Singer_photo   | 歌手图片       | Varchar        | 255            | F              |              |
| Singer_type    | 歌手类型       | Varchar        | 255            | F              |              |

 

表4.5专辑表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| Album_id       | 专辑id         | Int            | 11             | T              | 主键         |
| Album_name     | 专辑名         | Varchar        | 255            | F              |              |
| Album_singer   | 专辑歌手       | Int            | 11             | F              |              |
| Album_details  | 专辑简介       | Varchar        | 255            | F              |              |
| Album_time     | 专辑发布日期   | Datetime       |                | F              |              |
| Album_img      | 专辑图片       | Varchar        | 255            | F              |              |

 

表4.6歌单表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| List_id        | 列表id         | Int            | 11             | T              | 主键         |
| List_title     | 列表标题       | Varchar        | 255            | F              |              |
| List_img       | 列表图片       | Varchar        | 255            | F              |              |
| List_userid    | 列表所有者     | Int            | 11             | F              |              |
| List_time      | 列表创建时间   | Datetime       | 255            | F              |              |
| List_details   | 列表细节       | Varchar        | 11             | F              |              |
| list_playnum   | 列表播放次数   |                | 11             | F              |              |

 

表4.7歌单歌曲表

| ***\*字段\****            | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| ------------------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| ***\*songlist_id\****     | 列表id         | Int            | 11             | T              | 主键         |
| ***\*songlist_listid\**** | 列表标题       | Int            | 11             | F              |              |
| ***\*songlist_songid\**** | 列表图片       | Int            | 111            | F              |              |

 

表4.8用户表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| user_id        | 用户id         | Int            | 11             | T              | 主键         |
| user_name      | 用户名         | Varchar        | 255            | F              |              |
| user_account   | 用户账户       | Varchar        | 255            | F              |              |
| pswd           | 密码           | Varchar        | 11             | F              |              |
| user_phone     | 用户手机       | Varchar        | 255            | F              |              |
| user_area      | 用户区域       | Varchar        | 255            | F              |              |
| user_details   | 用户简介       | Varchar        | 255            | F              |              |
| user_gender    | 用户性别       | Varchar        | 11             | F              |              |
| user_birth     | 用户生日       | Date           |                | F              |              |
| user_photo     | 用户照片       | Varchar        | 255            | F              |              |

 

表4.9收藏表

| ***\*字段\****  | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| --------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| Usersong_id     | 收藏id         | Int            | 11             | T              | 主键         |
| Usersong_userid | 用户id         | Int            | 11             | F              |              |
| Usersong_songid | 歌id           | Int            | 11             | F              |              |

 

 

表4.10手账表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| note_id        | 手账id         | Int            | 11             | T              | 主键         |
| note_name      | 手账名         | Varchar        | 255            | F              |              |
| note_img       | 手账图片       | Varchar        | 255            | F              |              |
| note_time      | 手账创建时间   | Datetime       |                | F              |              |
| note_details   | 手账简介       | Varchar        | 255            | F              |              |
| note_type      | 手账类型       | Varchar        | 255            | F              |              |
| note_userid    | 手账所属人     | Int            | 11             | F              |              |

 

表4.11动态表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| Moment_id      | 动态id         | Int            | 11             | T              | 主键         |
| Moment_details | 动态内容       | Varchar        | 255            | F              |              |
| Moment_userid  | 动态发布人     | Int            | 11             | F              |              |
| Moment_time    | 动态发布时间   | Datetime       |                | F              |              |

 

表4.12关注表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| Fans_id        | 关注id         | Int            | 11             | T              | 主键         |
| Fans_type      | 关注类型       | Int            | 11             | F              |              |
| Fans_focusid   | 被关注者id     | Int            | 11             | F              |              |
| Fans_fansid    | 关注者id       | Int            | 11             | F              |              |

 

表4.13评论表

| ***\*字段\**** | ***\*注释\**** | ***\*类型\**** | ***\*长度\**** | ***\*非空\**** | ***\*键\**** |
| -------------- | -------------- | -------------- | -------------- | -------------- | ------------ |
| Comm_id        | 评论id         | Int            | 11             | T              | 主键         |
| Comm_details   | 评论内容       | Varchar        | 255            | F              |              |
| Comm_time      | 评论时间       | Datetime       |                | F              |              |
| Comm_userid    | 评论者id       | Int            | 11             | F              |              |
| Comm_type      | 评论类型       | Int            | 11             | F              |              |
| Comm_targetid  | 评论目标id     | int            | 11             | F              |              |

#### 数据采集

> 阐述数据是如何获取到的。

表4.14数据采集

| ***\*数据类别\**** | ***\*数据名称\**** | ***\*采集方式\****                   | ***\*用途\****     |
| ------------------ | ------------------ | ------------------------------------ | ------------------ |
| ***\*静态数据\**** |                    |                                      |                    |
| ***\*动态数据\**** | 用户的使用习惯     | 对用户使用时长和时段等数据的输入     | 用于用户习惯的记录 |
|                    | 用户的生物特征     | 智能穿戴设备                         |                    |
|                    | 用户的对话状态     | ai语音助手的对话，音乐手账的内容计入 |                    |
|                    | 用户朴素的情绪     | 音乐手账的简单情绪输入               |                    |
|                    | 用户的环境         | 客户端地理位置和周边设备的状态。     |                    |
|                    | 音乐手账的内容     | 用户手动输入                         |                    |



### 功能需求

> 阐述该项目所需要的核心功能，对核心功能进行业务逻辑层面的描述

![image-20230227160522167](C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20230227160522167.png)

#### 功能模块

> 包含功能模块描述表，功能用例图及用例规约表。

### 1.1.1 ***\*音乐收听功能模块\****

表4.15 音乐收听功能模块描述

| ***\*功能模块\****   | ***\*功能\****                                               | ***\*功能描述\****                                           | ***\*优先级\**** |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ---------------- |
| ***\*音乐收听\****   | 基本播放功能                                                 | 具备一个音乐app的基本播放功能，如“播放控制”“文件控制”“歌词控制”“进度控制”“声音控制”“下载控制”等等 | 1                |
| 音乐入库、归档、整理 | 即“音乐库”，将网络音乐加入用户私有的库，使用不同的归档依据完成归档和整理 | 1                                                            |                  |
| 音乐助手             | 使用“AI对话”等方式实现用户想要实现的功能，辅助用户操作       | 2                                                            |                  |

 

表4.16 音乐播放功能用例规约

| ***\*用例名称\****     | ***\*音乐收听\****                                           |
| ---------------------- | ------------------------------------------------------------ |
| ***\*功能简述\****     | 用户能够选择自己想要听的音乐收听，并能够对其有一定的归档整理 |
| ***\*用例编号\****     | UC01                                                         |
| ***\*执行者\****       | Server, Client                                               |
| ***\*前置条件\****     | 用户设备支持网络连接和音乐播放；用户想要听音乐               |
| ***\*后置条件\****     | 软件正常播放歌曲，其间推荐系统正常运行                       |
| ***\*涉众利益\****     | 用户：希望选定的音乐流畅播放；可以将音乐进行整理归档；借助音乐助手能够简化挑选、搜索音乐等操作。音乐收听：为用户提供细致科学的音乐归档方式，能够让用户尽可能流畅的播放自己心仪的音乐。 |
| ***\*基本路径\****     | 1. 用户浏览网上音乐或使用音乐助手听歌识曲，搜寻心仪音乐2. 用户将心仪音乐入库，并整理归档3. 用户选择库中音乐播放或呼叫音乐助手播放歌曲 |
| ***\*扩展路径\****     | 音乐助手搜寻不到音乐，会给出提示；使用期间断网，会给出提示；库中音乐失效，会给出提示。 |
| ***\*字段列表\****     | Song,Singer,Album,Lists,Songlist,User,Usersong,Comments,     |
| ***\*设计规则\****     | 单独规则                                                     |
| ***\*未解决的问题\**** | 无                                                           |
| ***\*备注\****         | 无                                                           |

### 1.1.2 ***\*音乐手账功能模块\****

表4.17音乐手账功能模块描述

| ***\*功能模块\**** | ***\*功能\****                           | ***\*功能描述\****     | ***\*优先级\**** |
| ------------------ | ---------------------------------------- | ---------------------- | ---------------- |
| ***\*音乐手账\**** | 手账编写                                 | 用户进行音乐手帐的编辑 | 1                |
| 手帐整理、归档     | 用户可建立多本手帐，并对其进行整理和归档 | 1                      |                  |
| 生成播放列表       | 用户可将某手帐中的歌曲一键导出为歌单     | 2                      |                  |

 

表4.18 音乐手帐用例规约

| ***\*用例名称\****     | ***\*音乐手帐\****                                           |
| ---------------------- | ------------------------------------------------------------ |
| ***\*功能简述\****     | 用户可以建立音乐手帐，在音乐手帐中编辑图文、加入音乐；并能够将手帐内音乐导出为歌单 |
| ***\*用例编号\****     | UC02                                                         |
| ***\*执行者\****       | Server, Client                                               |
| ***\*前置条件\****     | 用户设备支持连接网络；用户需要记录自己的日常，对音乐的赏析、理解和回忆等内容； |
| ***\*后置条件\****     | 用户手帐正常编写并上传至云端                                 |
| ***\*涉众利益\****     | 用户：希望能够正常地对手帐进行编辑和保存，并可便捷地回顾和收听音乐手帐：希望实时保存用户的编辑记录，并提供良好的手帐使用体验 |
| ***\*基本路径\****     | 1. 用户创建手帐，进行命名和封面选取等2. 用户新建手帐页，将所中意的音乐插入手帐中（可选），编辑图文，并保存3. 用户重温旧时的手帐，阅读其图文，收听其中的音乐。4. 将手帐重的音乐导出成播放列表一键播放（可选） |
| ***\*扩展路径\****     | 手帐内音乐失效，会给出提示；使用期间断网，会给出提示，保存失败。 |
| ***\*字段列表\****     | Song,Singer,Album,Lists,Songlist,User,Usersong,Note          |
| ***\*设计规则\****     | 单独规则                                                     |
| ***\*未解决的问题\**** | 无                                                           |
| ***\*备注\****         | 无                                                           |

### 1.1.3 ***\*情绪关怀功能模块\****

表4.19 情绪关怀功能模块描述

| ***\*功能模块\**** | ***\*功能\****                                       | ***\*功能描述\****                                       | ***\*优先级\**** |
| ------------------ | ---------------------------------------------------- | -------------------------------------------------------- | ---------------- |
| ***\*情绪关怀\**** | 情绪感知                                             | 通过文字、心率、呼吸频率等健康设备信息获取用户的情绪状态 | 1                |
| 听歌情绪报告       | 统计用户听歌习惯及其他数据，给出一段时间内的情绪报告 | 1                                                        |                  |
| AI聊天             | 用户可与ai进行聊天，缓解消极情绪                     | 2                                                        |                  |

 

表4.20情绪关怀用例规约

| ***\*用例名称\****     | ***\*情绪关怀\****                                           |
| ---------------------- | ------------------------------------------------------------ |
| ***\*功能简述\****     | 关怀用户情绪，使其及时了解自身情绪状况，并缓解自身消极情绪   |
| ***\*用例编号\****     | UC03                                                         |
| ***\*执行者\****       | Server, Client                                               |
| ***\*前置条件\****     | 用户设备支持连接网络；用户希望了解自己所听歌曲的情绪取向、自己听歌时的情绪状态，并以此来为依据关注自己的心理健康 |
| ***\*后置条件\****     | 用户更加了解自己的情绪动向，用户收听的歌曲更符合自己的情绪状态 |
| ***\*涉众利益\****     | 用户：希望音乐更懂自己的情绪，自己更了解自己的情绪动向情绪关怀：让用户关注到自己的情绪状态，及时调整不良状态；获取更精确的情绪信息，使用户听取符合自己情绪的音乐 |
| ***\*基本路径\****     | 1. 用户正常使用音乐软件2. 用户获得基于情绪的音乐推送和情绪报告 |
| ***\*扩展路径\****     | 使用期间断网，会给出提示，执行失败。                         |
| ***\*字段列表\****     | Song,Singer,Album,Lists,Songlist,User,Usersong,Comments,Note,Moments |
| ***\*设计规则\****     | 单独模块                                                     |
| ***\*未解决的问题\**** | 无                                                           |
| ***\*备注\****         | 无                                                           |

### 1.1.4 ***\*音乐推送功能模块\****

表4.21 音乐推送功能模块描述

| ***\*功能模块\**** | ***\*功能\****                                               | ***\*功能描述\****                                   | ***\*优先级\**** |
| ------------------ | ------------------------------------------------------------ | ---------------------------------------------------- | ---------------- |
| ***\*音乐推送\**** | 情景感知                                                     | 基于时间、空间、运动状态等多种数据感知用户的使用场景 | 1                |
| 生成播放列表       | 根据情景感知、情感识别、兴趣计算等多种因素生成符合用户的播放列表 | 1                                                    |                  |

 

表4.22 音乐推送用例规约

| ***\*用例名称\****     | ***\*音乐推送\****                                           |
| ---------------------- | ------------------------------------------------------------ |
| ***\*功能简述\****     | 基于多种信息，计算出符合用户需要的音乐并推送给用户           |
| ***\*用例编号\****     | UC04                                                         |
| ***\*执行者\****       | Server, Client                                               |
| ***\*前置条件\****     | 用户设备支持连接网络；用户希望获得更加个性化、更加灵敏的音乐推送 |
| ***\*后置条件\****     | 用户获得心仪的音乐推送                                       |
| ***\*涉众利益\****     | 用户：希望获得更加精准的音乐推送音乐推送：希望给用户推送到使用户满意的歌曲，留住用户 |
| ***\*基本路径\****     | 1. 用户选择个性推荐功能2. 用户听取系统推送的音乐             |
| ***\*扩展路径\****     | 使用期间断网，会给出提示，执行失败。                         |
| ***\*字段列表\****     | Song,Singer,Album,Lists,Songlist,User,Usersong               |
| ***\*设计规则\****     | 单独模块                                                     |
| ***\*未解决的问题\**** | 无                                                           |
| ***\*备注\****         | 无                                                           |

### 1.1.5 ***\*社区功能模块\****

表4.23 社区功能模块描述

| ***\*功能模块\**** | ***\*功能\****                                               | ***\*功能描述\****                       | ***\*优先级\**** |
| ------------------ | ------------------------------------------------------------ | ---------------------------------------- | ---------------- |
| ***\*社区\****     | 通讯                                                         | 用户能够通过软件与其他用户交流、互发消息 | 1                |
| 广场               | 用户能够在广场发表、浏览信息，并进行关注等操作，与网友进行交流 | 1                                        |                  |
| 听友雷达           | 用户能够被推送到与自己听歌习惯相同的听友                     | 1                                        |                  |

 

表4.24 社区用例规约

| ***\*用例名称\****     | ***\*社区\****                                               |
| ---------------------- | ------------------------------------------------------------ |
| ***\*功能简述\****     | 用户与网友的交流的平台                                       |
| ***\*用例编号\****     | UC05                                                         |
| ***\*执行者\****       | Server, Client                                               |
| ***\*前置条件\****     | 用户设备支持连接网络；用户希望寻求志趣相投的听友，并互相交流，发表和浏览音乐、心得、内容分享 |
| ***\*后置条件\****     | 用户在沟通和交流中获得快乐                                   |
| ***\*涉众利益\****     | 用户：希望能找到投机的人交流音乐和思想社区：打造用户交流的平台、吸引和留住用户 |
| ***\*基本路径\****     | 1. 用户在广场浏览内容2. 用户使用听友雷达功能3. 用户获得好友推送4. 用户与被推送的好友进行交流 |
| ***\*扩展路径\****     | 使用期间断网，会给出提示，执行失败。                         |
| ***\*字段列表\****     | Fans,Comments,Moments,User                                   |
| ***\*设计规则\****     | 单独模块                                                     |
| ***\*未解决的问题\**** | 无                                                           |
| ***\*备注\****         | 无                                                           |

### 性能需求

#### 时间特性

> 如响应时间、更新处理时间、数据转换与传输时间、运行时间

#### 适应性

> 在操作方式、运行环境、与其他软件的接口等发生变化时，应具有的适应能力

### 界面需求

> 要求给出4.2中涉及到的所有功能模块的界面原型示意图。界面中的每个组件元素要求给出注解。

### 接口需求

#### 硬件接口

> 若项目需要依赖于某些硬件的能力，则需要阐述清楚使用的硬件是什么以及硬件的接口和其调用方式。若不需要依赖硬件能力则填“无”。

#### 软件接口

> 软件接口定义了软件对外部服务（如：翻译服务、语音识别服务）的依赖与交互方式以及对外提供服务的方式。若无外部接口则填“无”。

### 其他需求

> 如可使用性、安全性、可维护性、可移植性

## 概要设计

> 复赛阶段完成

### 处理流程

> 包含逻辑流程图和数据流程图

### 总体结构设计

> 模块架构图及其描述

### 功能设计

> 功能模块结构图及其描述

### 数据流转设计

> 数据流转流程图及其描述

### 用户界面设计

> 复赛阶段要求提供核心功能模块的运行使用界面。决赛阶段要求给出4.2中涉及到的所有功能模块的运行使用界面。

### 数据结构设计

### 接口设计

#### 外部接口

> 阐述该软件与其他系统的调用接口。包括软件接口、硬件接口

#### 内部接口

> 阐述软件内模块之间的调用接口。包括函数接口、Restful接口等

### 错误/异常处理设计

#### 错误/异常输出信息

#### 错误/异常处理对策

> 设置后备、性能降级、恢复及再启动等

### 系统配置策略

### 系统部署方案

### 跨端应用架构设计

> 多端应用之间为满足交互协同、能力共用而做的通用协议、架构等设计

### 其他相关技术与方案

## 数据库设计

> 复赛阶段完成
> 包含数据库所有的表结构和相关的字段说明。要求提供ER图。

## 手机端侧部署设计

### 手机环境要求

## 详细设计
